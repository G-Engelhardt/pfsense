Autor: Robson Vaamonde
Procedimentos em TI: http://procedimentosemti.com.br
Bora para Prática: http://boraparapratica.com.br
Robson Vaamonde: http://vaamonde.com.br
Facebook Procedimentos em TI: https://www.facebook.com/ProcedimentosEmTi
Facebook Bora para Prática: https://www.facebook.com/BoraParaPratica
Instagram Procedimentos em TI: https://www.instagram.com/procedimentoem
YouTUBE Bora Para Prática: https://www.youtube.com/boraparapratica
LinkedIn Robson Vaamonde: https://www.linkedin.com/in/robson-vaamonde-0b029028/
Data de criação: 25/08/2021
Data de atualização: 25/08/2021
Versão: 0.01
Testado e homologado no Firewall NG UTM Netgate pfSense 2.4.x e 2.5.x

Atualização da versão do pfSense 2.5.2: https://docs.netgate.com/pfsense/en/latest/releases/2-5-2.html
Versão anterior do pfSense 2.5.1: https://docs.netgate.com/pfsense/en/latest/releases/21-02-2_2-5-1.html
Versão base do pfSense 2.5.0: https://docs.netgate.com/pfsense/en/latest/releases/2-5-0.html

Introdução à regras de firewall: https://docs.netgate.com/pfsense/en/latest/firewall/index.html
Configuração das Regras de Firewall: https://docs.netgate.com/pfsense/en/latest/firewall/configure.html

Permitindo acesso remoto à GUI: https://docs.netgate.com/pfsense/en/latest/recipes/remote-firewall-administration.html
Evitando que o tráfego RFC1918 saia de uma interface WAN: https://docs.netgate.com/pfsense/en/latest/recipes/rfc1918-egress.html
Conceder aos usuários acesso ao SSH: https://docs.netgate.com/pfsense/en/latest/recipes/ssh-access.html#ssh-keys

Configuração da liberação de acesso remoto ao WebGui do pfSense utilizando o Protocolo HTTPS
Firewall
	Rules
		WAN
			ADD
				Edit Firewall Rule
					Action: Pass
					Disabled: OFF
					Interface: WAN
					Address Family: IPv4
					Protocol: TCP
				Source
					Source: any
					Advanced: Default
				Destination
					Destination: WAN Address
					Destination Port Range: From: 10443 To: 10443
				Extra Options
					Log: ON 
					Description: Liberação do acesso remoto ao WebGui do pfSense
			save
		Apply Changes
		+ Separator
			Liberação do acesso remoto do pfSense
		Save

#Criação do novo usuário de administração do pfSense
System
	User Manager
		Users
			ADD
				User Properties
					Denied by: USER 
					Disable: OFF
					Username: NOVO_USUÁRIO_ADMIN
					Password: SENHA_USUÁRIO_ADMIN
					Confirm Password: SENHA_USUÁRIO_ADMIN
					Full name: NOME_COMPLETO_USUÁRIO_ADMIN
					Expiration date: OFF
					Custom Settings: OFF
					Group membership: Member of: OpenVPN, admin
					Certificate: ON
				Certificate: Create Certificate for User
					Descriptive name: Usuário Admin pfSense
					Certificate authority: CA_EMPRESA
					Key length: 2048 bits
					Lifetime: 3650
				Keys
					Authorized SSH Keys: Default
					IPsec Pre-Shared Key: Default
			save
			Edit
				Effective Privileges
					ADD
						WebCfg - All pages
						User - System: Shell account access
					save
			save
			
#Desativação do usuário admin padrão do pfSense
System
	User Manager
		Users
			admin: Edit
				Disabled: ON
			save